<!-- views/index.ejs -->
<!doctype html>
<html>
<head>

<title>Customer Sentiment Analyzer</title>
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"> <!-- load bootstrap css -->
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"> <!-- load fontawesome -->

<style>
    body        { padding-top:80px; }
</style>

<script src="../bower/qcode-decoder/build/qcode-decoder.min.js"></script>
<script>
function read() {
setInterval(
function(){
var video1 = document.querySelector("#productinfo");
var qr = new QCodeDecoder();
QCodeDecoder()
  .decodeFromVideo(video1, function (err, result) {
    if (err) document.getElementById("info").innerHTML= err;
    document.getElementById("info").innerHTML=result;
  }, true);
},1000);}
</script>

</head>
<body onload="read()">
<div class="container">

<div class="page-header text-center">
    <h1><span><img src='../static/3M.png' alt="3M logo"  width="5.5%"></span>&nbsp Sentience </h1>
</div>

<div> 
    <video style="margin-left:auto;margin-right:auto;display:block" autoplay="true" id ="productinfo" width= "50%" capture="environment"></video>
</div>
<div id = "info"></div>

<script>
var video = document.querySelector("#productinfo");
 
if (navigator.mediaDevices.getUserMedia) {       
    navigator.mediaDevices.getUserMedia({video: {facingMode: "environment"}
    })
  .then(function(stream) {
    video.srcObject = stream;
  })
  .catch(function(err0r) {
    console.log("Something went wrong!");
  });
}
</script>



</div>
</body>
</html>
